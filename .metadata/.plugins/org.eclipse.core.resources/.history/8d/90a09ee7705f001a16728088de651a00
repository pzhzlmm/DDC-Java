package ex2;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;

import org.junit.Test;

/*
 * å¼‚å¸¸å¤„ç†ï¼?
 * 
 * ä¸?ã€Javaä¸­å¼‚å¸¸å¤„ç†æœ‰ä¸¤ç§æ–¹å¼ï¼?
 * 	1.try-catch-finally
 * 	2.throwsçš„æ–¹å¼?
 * 
 * äºŒã?? Javaæä¾›çš„æ˜¯å¼‚å¸¸å¤„ç†çš„æŠ“æŠ›æ¨¡å‹ã??
 * 
 *  è¿‡ç¨‹ä¸?ï¼?"æŠ?"
 *  	> åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦å‡ºç°å¼‚å¸¸ï¼Œå°±ä¼šåœ¨å‡ºç°å¼‚å¸¸ä»£ç çš„ä½ç½®ç”Ÿæˆä¸?ä¸ªç›¸åº”å¼‚å¸¸ç±»çš„å¯¹è±¡ï¼Œå¹¶å°†æ­¤å¯¹è±?
 *      å‘ä¸ŠæŠ›å‡ºã€?
 *      
 *      > å¼‚å¸¸å¯¹è±¡ä¸?æ—¦å‘ä¸ŠæŠ›å‡ºï¼Œä»£ç å°±ä¸å†ç»§ç»­å‘ä¸‹æ‰§è¡Œã??
 *  
 *  è¿‡ç¨‹äºŒï¼š"æŠ?"
 * 		> å¯ä»¥ç†è§£ä¸ºå¼‚å¸¸å¯¹è±¡çš„å¤„ç†è¿‡ç¨‹ã€?
 * 		> ç‹­ä¹‰ä¸Šï¼Œç†è§£ä¸ºæ•è·å¼‚å¸¸ï¼Œå³ä¸ºtry-catch-finallyçš„å¤„ç†æ–¹æ³•ã??
 * 		> å¹¿ä¹‰ä¸Šï¼Œç†è§£ä¸ºå¼‚å¸¸å¤„ç†çš„ä¸¤ç§æ–¹å¼ï¼štry-catch-finally ï¼? throws
 * 
 * ä¸‰ã?å¼‚å¸¸å¤„ç†æ–¹å¼ä¸€ï¼štry-catch-finallyçš„ä½¿ç”?
 * 
 * try{
 * 		//å¯èƒ½å‡ºç°å¼‚å¸¸çš„ä»£ç ?
 * 
 * }catch(å¼‚å¸¸çš„ç±»å?1 å˜é‡å?1){
 * 		//å¼‚å¸¸çš„å¤„ç†æ–¹å¼?1
 * }catch(å¼‚å¸¸çš„ç±»å?2 å˜é‡å?2){
 * 		//å¼‚å¸¸çš„å¤„ç†æ–¹å¼?2
 * }...
 * 
 * finally{
 * 		//ä¸?å®šä¼šè¢«æ‰§è¡Œçš„ä»£ç 
 * }
 * 
 * è¯´æ˜ï¼?
 * 1. finallyç»“æ„æ˜¯å¯é€‰çš„ã€?
 * 2. å°†å¯èƒ½å‡ºç°å¼‚å¸¸çš„ä»£ç ï¼Œä½¿ç”¨tryè¿›è¡ŒåŒ…è£¹ï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦ç”Ÿæˆå¼‚å¸¸å¯¹è±¡ï¼Œå°±å°†æ­¤å¯¹è±¡æŠ›å‡ºã?‚åœ¨å…¶åçš„catchä¸­è¿›è¡Œç±»å‹çš„åŒ¹é…
 * 3. ä¸?æ—¦å¼‚å¸¸å¯¹è±¡ä¸ç›¸åº”çš„æŸä¸ªcatchä¸­çš„å¼‚å¸¸ç±»å‹åŒ¹é…ï¼Œåˆ™è¿›å…¥catchç»“æ„æ‰§è¡Œå¼‚å¸¸å¤„ç†çš„æ“ä½œã?‚ä¸€æ—¦æ‰§è¡Œå®Œå¼‚å¸¸å¤„ç†çš„æ“ä½œåï¼Œç›´æ¥è·³å‡?
 * å½“å‰çš„try-catchç»“æ„ã€‚å¹¶æ‰§è¡Œå…¶åçš„ä»£ç ?
 * 4. å¸¸è§çš„å¼‚å¸¸å¤„ç†çš„æ–¹å¼ï¼?
 * 		â‘? è‡ªå®šä¹‰è¾“å‡ºçš„ä¿¡æ¯  â‘? æ‰“å°å¼‚å¸¸å¯¹è±¡çš„messageä¿¡æ¯ï¼šgetMessage()  â‘? printStackTrace()
 * 
 * 5. å¤šä¸ªcatchä¸­çš„å¼‚å¸¸ç±»å‹æ²¡æœ‰å­çˆ¶ç±»å…³ç³»ï¼Œåˆ™è°å…ˆå£°æ˜ï¼Œè°åå£°æ˜æ— æ‰€è°?
 *    å¦‚æœå¤šä¸ªcatchä¸­çš„å¼‚å¸¸ç±»å‹æœ‰å­çˆ¶ç±»å…³ç³»ï¼Œåˆ™å¿…é¡»å°†å­ç±»å¼‚å¸¸å£°æ˜åœ¨çˆ¶ç±»å¼‚å¸¸ä¹‹å‰ã€‚å¦åˆ™æŠ¥é”™ã??
 * 
 * 6. åœ¨tryä¸­å£°æ˜çš„å˜é‡ï¼Œåœ¨å‡ºäº†tryç»“æ„ä»¥åï¼Œä¸å¯è¢«è°ƒç”¨
 * 
 * 
 * ä½“ä¼šï¼?
 * 1. ç¼–è¯‘æ—¶å¼‚å¸¸ä¸€å®šè¦è¿›è¡Œå¤„ç†çš„ï¼Œ å¦åˆ™ç¼–è¯‘ä¸é?šè¿‡ã€‚å¦‚æœåœ¨è¿è¡Œæ—¶æ²¡æœ‰å‡ºç°å¼‚å¸¸ï¼Œé‚£å°±æ­£å¸¸æ‰§è¡Œã€‚å¦‚æœå‡ºç°å¼‚å¸¸ï¼Œå°±æŒ‰ç…§å¼‚å¸¸å¤„ç†çš„æ–¹æ¡ˆè¿›è¡Œ
 *   å¼‚å¸¸çš„å¤„ç†ã?? ----> ä½¿ç”¨å¼‚å¸¸å¤„ç†çš„æ–¹å¼ï¼Œç›¸å½“äºå°†ä¸?ä¸ªç¼–è¯‘æ—¶å¼‚å¸¸è½¬æ¢ä¸ºäº†ä¸?ä¸ªè¿è¡Œæ—¶å¯èƒ½å‡ºç°çš„å¼‚å¸¸ã??
 * 2. å¼?å‘ä¸­ï¼Œå¯¹äºè¿è¡Œæ—¶å¼‚å¸¸ï¼Œä¸€èˆ¬å’±ä»¬éƒ½ä¸ä¼šç¼–å†™é’ˆå¯¹æ€§çš„ä»£ç è¿›è¡Œå¤„ç†ã€?
 * 
 * ç»ƒä¹ ï¼šé’ˆå¯¹ç›¸åº”åŠŸèƒ½çš„ä»£ç ï¼Œä½¿ç”¨try-catchè¿›è¡Œå¤„ç†ã€?
 */
public class ExceptionHandleTest1 {
	@Test
	public void test1(){
		String str1 = "atguigu.com";
		str1 = null;
		System.out.println(str1.charAt(0));
		System.out.println("hello");//æ‰§è¡Œä¸åˆ°ã€?
	}
	
	@Test
	public void test2(){
		try{
			String str1 = "atguigu.com";
			str1 = null;
			System.out.println(str1.charAt(0));
		}catch(NullPointerException e){
			//å¼‚å¸¸çš„å¤„ç†æ–¹å¼?1
			System.out.println("ä¸å¥½æ„æ?ï¼Œäº²~å‡ºç°äº†å°é—®é¢˜ï¼Œæ­£åœ¨åŠ ç´§è§£å†?...");
			
		}catch(ClassCastException e){
			//å¼‚å¸¸çš„å¤„ç†æ–¹å¼?2
			System.out.println("å‡ºç°äº†ç±»å‹è½¬æ¢çš„å¼‚å¸¸");
		}catch(RuntimeException e){
			//å¼‚å¸¸çš„å¤„ç†æ–¹å¼?3
			System.out.println("å‡ºç°äº†è¿è¡Œæ—¶å¼‚å¸¸");
		}
		//æ­¤å¤„çš„ä»£ç ï¼Œåœ¨å¼‚å¸¸è¢«å¤„ç†äº†ä»¥åï¼Œæ˜¯å¯ä»¥æ­£å¸¸æ‰§è¡Œçš„
		System.out.println("hello");
	}
	
	@Test
	public void test3(){
		String str1 = null;
		try{
			str1 = "atguigu.com";
			str1 = null;
			System.out.println(str1.charAt(0));
		}catch(ClassCastException e){
			e.printStackTrace();
		}catch(NullPointerException e){
			System.out.println(e.getMessage());
//			e.printStackTrace();
		}catch(RuntimeException e){
			e.printStackTrace();
		}
		
		System.out.println(str1);
	}
	
	@Test
	public void test4(){
		try{
			int i = 10;
			int j = 0;
			System.out.println(i / j);
			
		}catch(ArithmeticException e){
			System.out.println(e.getMessage());//   / by zero
		}
	}
	
	@Test
	public void test5(){
		try{
			int[] arr = new int[10];
			System.out.println(arr[10]);
			
		}catch(ArrayIndexOutOfBoundsException e){
//			System.out.println(e.getMessage());// 10
			e.printStackTrace();
		}
	}
	
	@Test
	public void test6(){
		try{
			File file = new File("hello.txt");
			FileInputStream fis = new FileInputStream(file);//FileNotFoundException
			int b = fis.read();//IOException
			while(b != -1){
				System.out.print((char)b);
				b = fis.read();//IOException
			}
			
			fis.close();//IOException
			
		}catch(FileNotFoundException e){
			e.printStackTrace();
//			System.out.println("å‡ºç°äº†æ–‡ä»¶æ‰¾ä¸åˆ°çš„å¼‚å¸?");
		}catch(IOException e){
			e.printStackTrace();
		}
	}
}
